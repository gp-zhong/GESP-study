<view class="container">
  <!-- 顶部导航栏 -->
  <view class="detail-header">
    <view class="back-button" bindtap="goBack">
      <text class="fas fa-chevron-left"></text>
    </view>
    <view class="detail-title">2023年中级真题</view>
  </view>
  
  <!-- 真题内容 -->
  <view class="detail-content">
    <block wx:for="{{questions}}" wx:key="id">
      <view class="question-card">
        <view class="question-header">
          <text class="question-number">{{item.title}}</text>
        </view>
        <view class="question-body">
          <text class="question-text">{{item.content}}</text>
          <text wx:if="{{item.subContent}}" class="question-subtext">{{item.subContent}}</text>
          
          <!-- AI解析部分 -->
          <view class="ai-analysis {{expandedStates[item.id] ? 'expanded' : ''}}" 
                bindtap="toggleAnalysis" 
                data-question-id="{{item.id}}">
            <view class="ai-header">
              <view class="ai-title">
                <text class="fas fa-robot"></text>
                <text>AI解析</text>
              </view>
              <image 
                class="chevron-icon" 
                src="/assets/icons/{{expandedStates[item.id] ? 'chevron-up' : 'chevron-down'}}.png"
                mode="aspectFit"
              ></image>
            </view>
            
            <view class="ai-content">
              <view class="section">
                <text class="section-title">解题思路</text>
                <text class="section-content">{{item.analysis.thinking}}</text>
              </view>
              
              <view class="section">
                <text class="section-title">代码实现</text>
                <view class="code-block" bindtap="copyCode" data-code="{{item.analysis.code}}">
                  <text>{{item.analysis.code}}</text>
                </view>
              </view>
              
              <view class="section">
                <text class="section-title">复杂度分析</text>
                <text class="section-content">{{item.analysis.complexity}}</text>
              </view>
            </view>
          </view>
        </view>
      </view>
    </block>
  </view>
</view> 